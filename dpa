Query-Level Performance Analysis
Unlike many tools that focus only on server metrics, DPA provides deep visibility into SQL query execution, waits, and bottlenecks.


Wait-Time Analysis
It uses a unique wait-time methodology to pinpoint the root cause of performance issues, which is more actionable than CPU/memory metrics alone.


Cross-Platform Support
Supports multiple relational database engines in a single pane of glass, ideal for heterogeneous environments.


Lightweight Architecture
Agentless monitoring reduces overhead on production systems compared to agent-based tools.


Integration & Reporting
Built-in integration with SolarWinds Orion platform and detailed historical trend analysis for capacity planning.


Why Choose SolarWinds DPA for Database Performance Monitoring?
SolarWinds Database Performance Analyzer (DPA) is selected because:


Deep Query-Level Analysis
Unlike tools that focus only on server metrics, DPA provides granular visibility into SQL query execution and wait events, enabling root-cause analysis.


Agentless Architecture
Reduces overhead on production systems compared to agent-based tools, making it lightweight and easier to maintain.


Multi-Platform Support
Supports heterogeneous environments (SQL Server, Oracle, MySQL, PostgreSQL) under a single dashboard, which is critical for enterprises running multiple database technologies.


Historical Trend Analysis
Enables capacity planning and proactive optimisation by analysing long-term performance trends.


Integration & Reporting
Seamless integration with SolarWinds Orion for unified monitoring and robust reporting capabilities.




**Subject:** Strategic Evaluation & Deployment Plan for SolarWinds Database Performance Analyzer (DPA)  

**To:** Engineering Leadership, Database Engineering Team, SRE/Operations  
**From:** Database Solutions Engineer 2, Google Cloud Platform (Internal Infrastructure Team)  
**Date:** October 26, 2023  

---

## **1. Executive Summary**  
SolarWinds Database Performance Analyzer (DPA) is being evaluated as an enterprise-wide database performance monitoring solution to provide unified visibility across heterogeneous database environments (MSSQL, Oracle, MySQL, PostgreSQL). DPA’s strength lies in its **query-level performance analytics**, wait-time analysis, and proactive alerting, enabling faster troubleshooting and optimization of critical applications.  

This document outlines:  
- Why DPA aligns with our monitoring goals  
- Supported database platforms & limitations  
- POC strategy & deployment roadmap  
- Critical gaps (e.g., MySQL InnoDB Cluster metrics)  
- Long-term strategy for proactive performance management  

---

## **2. Why SolarWinds DPA?**  
### **2.1 Unified Cross-Platform Visibility**  
- Single pane of glass for **MSSQL, Oracle, MySQL, PostgreSQL** (including AWS RDS, Azure DB, on-prem).  
- Reduces tool sprawl and operational overhead.  

### **2.2 Deep Query Performance Insights**  
- Pinpoints **slow queries, blocking, deadlocks, resource contention** via wait-time analysis.  
- Correlates database performance with application impact (APM integration via AppOptics).  

### **2.3 Proactive Alerting & Baselining**  
- Anomaly detection using dynamic baselines.  
- Alerts on query regressions, resource spikes, and performance degradation.  

### **2.4 Cost-Efficiency & Scalability**  
- License per monitored instance (not per CPU/core).  
- Low-overhead monitoring agent with centralized data collection.  

---

## **3. Supported Databases & Limitations**  
### **3.1 Fully Supported**  
| Database | Key Metrics Monitored |  
|----------|-----------------------|  
| **MSSQL** | Query performance, deadlocks, index usage, Always-On latency |  
| **Oracle** | Wait events, ASH/ASH-like analysis, RAC performance |  
| **MySQL** | Slow queries, replication lag, InnoDB metrics, table locks |  
| **PostgreSQL** | Query plans, vacuum analysis, table/index bloat |  

### **3.2 Known Limitations**  
- **MySQL InnoDB Cluster**:  
  - **No native cluster-aware monitoring** (e.g., group replication stats, quorum status, node role transitions).  
  - Workaround: Custom queries + external alerting (Grafana/Prometheus) for cluster health.  
- **No native Kubernetes/Cloud-Native database operator integration** (e.g., Cloud SQL Proxy, Vitess).  
- **Limited automation/remediation** (DPA is monitoring-only; no automated index creation/query rewrite).  

---

## **4. POC Strategy**  
### **4.1 Objectives**  
1. Validate DPA’s ability to identify and alert on performance issues in real-time.  
2. Assess integration with existing workflows (ticketing, Slack, PagerDuty).  
3. Evaluate overhead on production databases.  

### **4.2 POC Database Selection**  
- **Primary**: **MSSQL** (critical revenue apps) + **MySQL** (InnoDB Cluster for user-facing apps).  
- **Why?**  
  - MSSQL represents high-priority, performance-sensitive workloads.  
  - MySQL tests DPA’s limitations in cluster monitoring.  

### **4.3 POC Duration & Scope**  
- **Duration**: 4 weeks.  
- **Scope**:  
  - Monitor 2x MSSQL production instances + 1x MySQL InnoDB Cluster (3 nodes).  
  - Simulate performance scenarios:  
    - Slow query injection  
    - Blocking/deadlock simulation  
    - Failover events (MySQL cluster)  
  - Validate alerting latency & accuracy.  

---

## **5. Deployment Strategy**  
### **5.1 Phased Rollout**  
| Phase | Targets | Timeline |  
|-------|---------|----------|  
| **Phase 1** | All MSSQL production instances (critical apps) | Weeks 1–4 |  
| **Phase 2** | Oracle & PostgreSQL (finance/HR systems) | Weeks 5–8 |  
| **Phase 3** | MySQL & remaining dev/test instances | Weeks 9–12 |  

### **5.2 Integration Requirements**  
- SSO (SAML 2.0) for access control.  
- Alert forwarding to **PagerDuty** (critical) + **Slack** (team channels).  
- Data retention: 13 months (compliance requirement).  

---

## **6. Importance of Monitoring & Organizational Benefits**  
### **6.1 For MSSQL (Critical Applications)**  
- **Reduced MTTR**: Query-level insights cut troubleshooting time from hours to minutes.  
- **Prevent Revenue Impact**: Detect regressions before they affect end-users (e.g., payment processing apps).  
- **Capacity Planning**: Identify resource bottlenecks before scaling events.  

### **6.2 For MySQL InnoDB Cluster**  
- **Query Optimization**: Identify poorly performing queries across cluster nodes.  
- **Replication Lag Alerts**: Prevent data consistency issues.  
- **Gap**: Cluster-aware monitoring requires supplemental tools (Percona Monitoring, custom scripts).  

### **6.3 Proactive Performance Strategy**  
1. **Weekly Performance Reviews**: Use DPA reports to identify top 10 slow queries/week.  
2. **Automated Regression Testing**: Integrate DPA with CI/CD to flag query plan changes.  
3. **Cross-Team Collaboration**: Share dashboards with app developers for query optimization.  

---

## **7. What DPA Cannot Do (Gaps & Mitigations)**  
| Gap | Mitigation |  
|-----|------------|  
| MySQL InnoDB Cluster metrics | Supplement with **Percona Monitoring and Management (PMM)** or custom Prometheus exporters |  
| Automated remediation | Integrate with **Ansible/ScriptRunner** for manual-triggered fixes |  
| Cloud-native DBaaS deep metrics | Use cloud provider native monitoring (CloudWatch, Cloud Monitoring) + DPA |  

---

## **8. Conclusion & Recommendations**  
- **Proceed with DPA deployment** for unified query performance monitoring.  
- **Supplement MySQL InnoDB Cluster monitoring** with PMM for complete visibility.  
- **Establish a “Performance Engineering” workflow** using DPA data for proactive optimization.  

**Next Steps**:  
1. Approve POC for MSSQL/MySQL.  
2. Form a tiger team (DBAs, SREs, app developers) for weekly performance reviews.  
3. Evaluate DPA’s TCO vs. building in-house (given Google’s expertise).  

---

**Attachments**:  
- DPA architecture diagram  
- POC success criteria checklist  
- Sample DPA dashboard (MSSQL & MySQL)  







We selected SolarWinds Database Performance Analyzer (DPA) as our preferred monitoring solution because it provides comprehensive support for a heterogeneous database environment, accommodating multiple platforms such as Microsoft SQL Server, Oracle, MySQL, and PostgreSQL. Its ability to monitor both on-premises and cloud-based database instances ensures seamless coverage across our hybrid infrastructure. By consolidating performance monitoring into a single, unified tool, we significantly simplify manageability, reduce operational complexity, and enhance visibility across all critical systems. This approach not only streamlines administration but also enables proactive performance optimisation, ensuring consistent service levels for our most business-critical applications.
